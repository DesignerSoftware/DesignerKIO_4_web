<div class="jumbotron text-center animated fadeIn slow">
  <h1 class="display-4">Módulo de autoconsulta Kiosco</h1>
  <br>
  <p class="lead"><img [src]="usuarioServicio.urlLogoEmpresaDarkXl || 'assets/images/fotos_empleados/logodesigner-dark-xl.png'" class="img-fluid" id="img-logo"></p>
  <hr class="my-4">
  <p>Desde aquí podrás acceder de manera fácil y rápida a tu información de nómina y personal.</p>
</div>
<div class="row grid-margin" *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null">
  <div class="col-12">
    <div class="card card-statistics" id="x">
      <div class="card-body">
        <div class="d-flex flex-column flex-md-row align-items-center justify-content-between animated fadeIn fast" id="contentEstadisticas"> 
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null">
              <p>
                <i class="icon-sm fa fa-file mr-2"></i>
                CONTRATO
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][18] || '...'}}</h6>
            </div>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="icon-sm fas fa-check-circle mr-2"></i>
                SALARIO
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][19] || '...'}}</h6>
            </div>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="icon-sm fas fa-sitemap mr-2"></i>
                CARGO
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][20] || '...'}}</h6>
            </div>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="icon-sm fas fa-plane mr-2"></i>
                VACACIONES PROVISIONADAS
              </p>
              <h6 style="text-align: center;" *ngIf="usuarioServicio.datosPersonales">{{totalDiasVacacionesProv || '...'}}</h6>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row grid-margin" *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null">
  <div class="col-12">
    <div class="card card-statistics" style="background:linear-gradient(85deg, #040018, #4f4f57) !important;" id="x">
      <div class="card-body">
        <div class="d-flex flex-column flex-md-row align-items-center justify-content-between animated fadeIn fast" id="contentEstadisticas"> 
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null">
              <p>
                <i class="fas fa-user-shield"></i>
                FONDOS DE PENSIÓN
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][28] || 'SIN AFILIACIÓN'}}</h6>
            </div>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="fas fa-file-medical"></i>
                ENTIDAD DE SALUD
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][29] || 'SIN AFILIACIÓN'}}</h6>
            </div>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="fas fa-band-aid"></i>
                RIESGOS PROFESIONALES
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][30] || 'SIN AFILIACIÓN'}}</h6>
            </div>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="fas fa-piggy-bank"></i>
                FONDO CESANTÍAS
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][31] || 'SIN AFILIACIÓN'}}</h6>
            </div>
            <br>
            <div class="statistics-item" *ngIf="usuarioServicio.datosPersonales!=null">
              <p>
                <i class="fas fa-archive"></i>
                CAJA DE COMPENSACIÓN
              </p>
              <h6 *ngIf="usuarioServicio.datosPersonales && usuarioServicio.datosPersonales!=null && usuarioServicio.datosPersonales.length!=0">{{usuarioServicio.datosPersonales[0][32] || 'SIN AFILIACIÓN'}}</h6>
            </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="row, text-center" id="div">
  <p>Informar corrección de datos:
    <button class="btn btn-link btn-sm" data-bs-toggle="modal" data-bs-target="#exampleModal" (click)="abrirModal()">CLIC AQUI</button></p>
</div>

<footer class="footer">
  <div class="d-sm-flex justify-content-center text-center">
    <span class="text-muted text-center">Copyright © 2021. Todos los derechos reservados.</span>
  </div>
</footer>

<!-- Modal -->
<div class="modal fade" id="staticBackdrop" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Informar inconsistencias de información</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>

      <form [formGroup]="formulario" novalidate (ngSubmit)="enviarReporteNovedad()">
      <div class="modal-body">
          <div class="mb-3">
            <p><b>Estimado usuario:</b></p>
              <p>Por favor digite la observación sobre la información laboral o personal que considera que se debe corregir, ésta 
              será enviado a Nómina y RRHH (máx. 100 carácteres):</p>
            <textarea class="form-control" id="exampleFormControlTextarea1" rows="3" maxlength="100" formControlName="mensaje"></textarea>
          </div>

      </div>

      <div class="modal-footer">
        <button class="btn btn-primary">Enviar reporte</button>
      </div>
    </form>
    </div>
  </div>
</div>